{% raw %}{% extends 'base.html' %}{% endraw %}
{% raw %}{% block title %}{% endraw %}–¢–æ–≤–∞—Ä—ã ‚Äî –ê–¥–º–∏–Ω{% raw %}{% endblock %}{% endraw %}

{% raw %}{% block content %}{% endraw %}
<style>
/* ===== ONE-FILE NEON 3D THEME (–∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ) ===== */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap");
:root{
  --bg1:#1a1031; --bg2:#2a1452; --bg3:#30164f;
  --panel:#22143dbd; --panel-strong:#1f1237;
  --ink:#efeaff; --muted:#c9c3ef;
  --ring: rgba(123, 62, 255, .35);
  --shadow-d: rgba(0,0,0,.45);
  --shadow-l: rgba(255,255,255,.06);
  --g-blue:   linear-gradient(135deg,#7a35ff 0%, #4db5ff 100%);
  --g-violet: linear-gradient(135deg,#8a2be2 0%, #ff3dbd 100%);
  --g-orange: linear-gradient(135deg,#ff7a18 0%, #ff3d85 100%);
  --g-green:  linear-gradient(135deg,#31d67b 0%, #31e1d4 100%);
  --g-cyan:   linear-gradient(135deg,#2bd9ff 0%, #7a35ff 100%);
  --g-red:    linear-gradient(135deg,#ff3b4a 0%, #ff7a18 100%);
  --g-pink:   linear-gradient(135deg,#ff62c6 0%, #a83df6 100%);
}
*{box-sizing:border-box}
body{
  font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 700px at 15% -10%, #4a1caf66 0%, transparent 60%),
    radial-gradient(1200px 700px at 105% 10%, #ff3d8566 0%, transparent 60%),
    linear-gradient(180deg, var(--bg3), var(--bg1));
}
/* ===== LAYOUT ===== */
.layout{display:grid; grid-template-columns: 300px 1fr; gap:20px; padding:20px}
.sidebar{
  background: radial-gradient(120% 120% at 0% 0%, #2b1849, #1b1236);
  border-radius:26px; padding:18px; position:sticky; top:16px; height: calc(100vh - 40px);
  box-shadow: 12px 12px 28px var(--shadow-d), -6px -6px 20px var(--shadow-l);
  display:flex; flex-direction:column; gap:12px;
}
.sb-logo{font-size:20px; opacity:.9; margin-bottom:8px}
.sb-nav{display:flex; flex-direction:column; gap:10px; flex:1}
.sb-item{
  display:flex; align-items:center; gap:12px; padding:14px 16px; border-radius:18px;
  color:#f6f3ff; text-decoration:none; background:#22143d;
  box-shadow: inset 2px 2px 4px rgba(0,0,0,.35), inset -2px -2px 6px rgba(255,255,255,.05);
  transition:.15s transform, .15s box-shadow, .15s filter;
}
.sb-item:hover{transform:translateY(-1px); filter:saturate(1.06)}
.sb-item.active{background:var(--g-orange); color:white; box-shadow: 0 10px 24px rgba(255,122,24,.35)}
.sb-bottom{padding-top:6px}

.content{padding:6px}
.head{display:flex; align-items:center; justify-content:space-between; margin:6px 0 14px}
h1{margin:0; font-size:36px; letter-spacing:.2px}
.head-actions{display:flex; gap:10px}

/* ===== BUTTONS & INPUTS ===== */
.btn{
  border:none; cursor:pointer; color:#fff; font-weight:700; padding:11px 16px; border-radius:16px;
  background:#2a2146;
  box-shadow: 8px 8px 18px var(--shadow-d), -6px -6px 16px var(--shadow-l);
  transition:.15s transform,.2s box-shadow,.2s filter;
}
.btn:hover{transform:translateY(-1px); filter:saturate(1.05)}
.btn:active{transform:translateY(1px)}
.pill{border-radius:999px}
.primary{background:var(--g-blue)}
.ghost{background:#281548}
.warn{background:var(--g-orange)}
.success{background:var(--g-green)}

.input{
  width:100%; border:none; outline:none; padding:12px 16px; border-radius:16px; color:var(--ink);
  background:#23153fbd; backdrop-filter: blur(4px);
  box-shadow: inset 6px 6px 12px rgba(0,0,0,.45), inset -6px -6px 14px rgba(255,255,255,.06),
              8px 8px 22px rgba(0,0,0,.35), -6px -6px 18px rgba(255,255,255,.04);
}
.input.small{padding:8px 10px; border-radius:14px}
.input:focus{box-shadow:0 0 0 4px var(--ring), inset 6px 6px 12px rgba(0,0,0,.45), inset -6px -6px 14px rgba(255,255,255,.06)}

/* ===== TOOLBAR ===== */
.toolbar{display:grid; grid-template-columns: 1fr 180px 180px 220px; gap:10px; margin-bottom:14px}
@media (max-width:1200px){.layout{grid-template-columns:1fr}.sidebar{height:auto; position:static}}
@media (max-width:920px){ .toolbar{grid-template-columns: 1fr 1fr} }

/* ===== TABLE ===== */
.card{border-radius:22px; padding:12px; background:#22143dbd; backdrop-filter: blur(6px);
      box-shadow: 12px 12px 28px rgba(0,0,0,.45), -10px -10px 24px rgba(255,255,255,.05)}
.table-wrap{overflow:hidden}
.tbl{width:100%; border-collapse:separate; border-spacing:0 10px}
.tbl thead th{font-weight:600; text-align:left; padding:12px 14px; color:#d8d2ff}
.tbl tbody tr{background:var(--panel-strong); color:var(--ink);
  box-shadow: 6px 6px 14px var(--shadow-d), -6px -6px 16px var(--shadow-l)}
.tbl tbody td{padding:12px 14px}
.tbl tbody td:first-child{border-top-left-radius:16px;border-bottom-left-radius:16px}
.tbl tbody td:last-child{border-top-right-radius:16px;border-bottom-right-radius:16px}
.tbl .num{text-align:right}
.row-actions{display:flex; gap:8px}
.row-actions .icon{background:#281548; color:#fff; padding:9px 10px; border-radius:12px; cursor:pointer;
  box-shadow: 6px 6px 14px var(--shadow-d), -6px -6px 14px var(--shadow-l)}
.row-actions .icon:hover{transform:translateY(-1px)}
.badge{display:inline-block; padding:6px 10px; border-radius:999px; font-size:12px; background:#2a2146; color:#fff}
.badge.cyan{background:var(--g-cyan); color:#00131f}
.badge.red{background:var(--g-red)}
.badge.orange{background:var(--g-orange)}
.empty{padding:40px; text-align:center; color:var(--muted)}
.pager{display:flex; gap:10px; align-items:center; padding:12px 4px; margin-top:10px}
.pager .spacer{flex:1}
#pageLabel{opacity:.9}

/* ===== WIDGETS (–∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ) ===== */
.grid{margin-top:14px; display:grid; grid-template-columns: 1fr 1fr; gap:14px}
.widget{
  border-radius:22px; padding:16px; color:white;
  box-shadow: 10px 10px 22px rgba(0,0,0,.45), -8px -8px 18px rgba(255,255,255,.05);
}
.widget .w-title{font-size:22px; font-weight:800; margin-bottom:6px}
.widget .w-row{opacity:.95; margin:6px 0}
.widget .w-foot{margin-top:10px; opacity:.9}
.w-orders{background: var(--g-orange)}
.w-warehouse{background: var(--g-red)}
.w-stats{background: var(--g-green)}
.w-clients{background: var(--g-cyan)}
.w-settings{background: var(--g-pink)}
.chip{display:inline-block; padding:6px 12px; border-radius:999px; background:#2a2146; margin-right:8px;
      box-shadow: inset 2px 2px 5px rgba(0,0,0,.35), inset -2px -2px 5px rgba(255,255,255,.05)}

/* ===== MODAL ===== */
dialog{border:none; padding:0; border-radius:22px; width:min(980px, 95vw);
  background:var(--panel); color:var(--ink);
  box-shadow: 16px 16px 32px var(--shadow-d), -14px -14px 28px var(--shadow-l)}
dialog::backdrop{background:rgba(10,7,24,.6); backdrop-filter: blur(6px)}
dialog .card{padding:18px}
dialog .grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
@media (max-width:700px){ dialog .grid2{grid-template-columns:1fr} }
dialog menu{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}
</style>

<div class="layout">
  <!-- SIDEBAR (–≤–Ω—É—Ç—Ä–∏ products.html, —á—Ç–æ–±—ã –±—ã–ª ¬´–æ–¥–∏–Ω —Ñ–∞–π–ª¬ª) -->
  <aside class="sidebar">
    <div class="sb-logo">üè† –î–∞—à–±–æ—Ä–¥</div>
    <nav class="sb-nav">
      <a href="/" class="sb-item">–î–∞—à–±–æ—Ä–¥</a>
      <a href="/admin/products" class="sb-item active">–¢–æ–≤–∞—Ä—ã</a>
      <a href="/admin/orders" class="sb-item">–ó–∞–∫–∞–∑—ã</a>
      <a href="/admin/warehouse" class="sb-item">–°–∫–ª–∞–¥</a>
      <a href="/admin/china-orders" class="sb-item">–ó–∞–∫—É–ø–∫–∏ –∏–∑ –ö–∏—Ç–∞—è</a>
      <a href="/admin/stats" class="sb-item">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
      <a href="/admin/clients" class="sb-item">–ö–ª–∏–µ–Ω—Ç—ã</a>
      <a href="/admin/settings" class="sb-item">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    </nav>
    <div class="sb-bottom">
      <a class="btn pill ghost" href="/admin/settings">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    </div>
  </aside>

  <!-- CONTENT -->
  <main class="content">
    <header class="head">
      <h1>–¢–æ–≤–∞—Ä—ã</h1>
      <div class="head-actions">
        <button id="btn-import" class="btn pill ghost">‚ü≤ –ò–º–ø–æ—Ä—Ç</button>
        <a id="btn-export" class="btn pill ghost" href="/api/products">‚á™ –≠–∫—Å–ø–æ—Ä—Ç</a>
        <button id="btn-add" class="btn pill primary">Ôºã –î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
    </header>

    <!-- FILTERS –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ -->
    <section class="toolbar">
      <input id="q" class="input" placeholder="–ü–æ–∏—Å–∫. –ë—Ä–µ–Ω–¥ / –º–æ–¥–µ–ª—å / –∫–∞—á–µ—Å—Ç–≤–æ / —Ç–µ–≥–∏">
      <select id="brand" class="input">
        <option value="">–ë—Ä–µ–Ω–¥ (–≤—Å–µ)</option>
        <option>iPhone</option><option>Samsung</option><option>Redmi</option><option>Realme</option>
        <option>Oppo</option><option>Vivo</option><option>Huawei</option><option>Honor</option>
        <option>Tecno</option><option>Infinix</option><option>ZTE</option><option>WIKO</option>
      </select>
      <select id="quality" class="input">
        <option value="">–ö–∞—á–µ—Å—Ç–≤–æ (–≤—Å–µ)</option>
        <option>Original</option><option>KBS</option><option>Incell</option><option>OLED</option><option>Service Pack</option>
      </select>
      <select id="sort" class="input">
        <option value="created_desc">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
        <option value="price_asc">–¶–µ–Ω–∞ ‚Üë</option>
        <option value="price_desc">–¶–µ–Ω–∞ ‚Üì</option>
        <option value="stock_asc">–û—Å—Ç–∞—Ç–æ–∫ ‚Üë</option>
        <option value="stock_desc">–û—Å—Ç–∞—Ç–æ–∫ ‚Üì</option>
        <option value="model_asc">–ú–æ–¥–µ–ª—å A‚ÜíZ</option>
      </select>
    </section>

    <!-- TABLE -->
    <section class="card table-wrap">
      <table class="tbl" id="tbl">
        <thead>
          <tr>
            <th>ID</th><th>–ë—Ä–µ–Ω–¥</th><th>–ú–æ–¥–µ–ª—å</th><th>–ö–∞—á–µ—Å—Ç–≤–æ</th>
            <th class="num">–¶–µ–Ω–∞</th><th class="num">–û—Å—Ç.</th><th>–¢–µ–≥–∏</th><th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
      <div id="empty" class="empty" hidden>–ü—É—Å—Ç–æ. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–æ–≤–∞—Ä.</div>

      <div class="pager">
        <button class="btn pill ghost" id="prev">‚Äπ –ü—Ä–µ–¥.</button>
        <span id="pageLabel">1 / 1</span>
        <button class="btn pill ghost" id="next">–°–ª–µ–¥ ‚Ä∫</button>
        <div class="spacer"></div>
        <label>–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</label>
        <select id="pageSize" class="input small">
          <option>10</option><option selected>20</option><option>50</option>
        </select>
      </div>
    </section>

    <!-- WIDGETS (—Å–Ω–∏–∑—É, –∫–∞–∫ –Ω–∞ –º–∞–∫–µ—Ç–µ) -->
    <section class="grid">
      <div class="widget w-orders">
        <div class="w-title">–ó–∞–∫–∞–∑—ã</div>
        <div class="w-row">
          <span class="chip">New</span>
          <span class="chip">Confirmed</span>
          <span class="chip">Paid</span>
          <span class="chip">Shipped</span>
        </div>
        <div class="w-foot">3 –∫–∞—Ä—Ç–æ—á–∫–∏: Lyyo</div>
      </div>

      <div class="widget w-warehouse">
        <div class="w-title">–°–∫–ª–∞–¥</div>
        <div class="w-row">‚ö†Ô∏è Alert critical <b>stock</b></div>
        <div class="w-foot">Example 7 ‚Ä¢ A10: remaining</div>
      </div>

      <div class="widget w-stats">
        <div class="w-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
        <div class="w-row">–ü—Ä–æ–≤–µ–¥–∏—Ç–µ —Å–æ–≤—ã –ø–æ —Å–¥–∂–∂–µ‚Ä¶</div>
        <div class="w-foot"><a href="/admin/import" class="btn pill success">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫—É–ø–∫—É</a></div>
      </div>

      <div class="widget w-clients">
        <div class="w-title">–ö–ª–∏–µ–Ω—Ç—ã</div>
        <div class="w-row">–ú–∞–ª–∞–∫–º–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</div>
      </div>

      <div class="widget w-settings">
        <div class="w-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <div class="w-row">Configure –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
      </div>
    </section>
  </main>
</div>

<!-- MODAL (–¥–æ–±–∞–≤–∏—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å) -->
<dialog id="dlg">
  <form id="frm" method="dialog" class="card">
    <h3 id="dlgTitle">–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h3>
    <div class="grid2">
      <label>–ë—Ä–µ–Ω–¥ (slug)<input name="brand" class="input" placeholder="samsung / iphone / redmi"></label>
      <label>–ú–æ–¥–µ–ª—å*<input name="model" required class="input" placeholder="A10 / 11 / Note 11"></label>
      <label>–ö–∞—á–µ—Å—Ç–≤–æ*<input name="quality" required class="input" placeholder="KBS / Original / Incell / OLED / Service Pack"></label>
      <label>–¶–µ–Ω–∞ (TJS)<input name="price" type="number" min="0" step="0.01" class="input"></label>
      <label>–û—Å—Ç–∞—Ç–æ–∫<input name="stock" type="number" min="0" step="1" class="input"></label>
      <label>–í–∞–ª—é—Ç–∞<input name="currency" class="input" value="TJS"></label>
      <label>–ü–æ—Å—Ç–∞–≤—â–∏–∫<input name="vendor" class="input"></label>
      <label>–§–æ—Ç–æ (URL)<input name="photo" class="input" placeholder="/static/img/KBS.jpg"></label>
      <label>–¢–∏–ø (IPS/OLED‚Ä¶)<input name="type" class="input"></label>
      <label>–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)<input name="tags" class="input" placeholder="kbs,oem,black"></label>
      <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (—Ç–µ–∫—Å—Ç)<textarea name="specs" rows="2" class="input" placeholder="–î–∏–∞–≥–æ–Ω–∞–ª—å: 6.1; –°—Ç–µ–∫–ª–æ: ‚Ä¶"></textarea></label>
      <label>–ê–∫—Ç–∏–≤–µ–Ω?
        <select name="active" class="input"><option value="true" selected>–î–∞</option><option value="false">–ù–µ—Ç</option></select>
      </label>
    </div>
    <menu>
      <button value="cancel" class="btn pill ghost">–û—Ç–º–µ–Ω–∞</button>
      <button id="saveBtn" value="default" class="btn pill primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </menu>
  </form>
</dialog>

<script>window.__PAGE__='products';</script>
<script src="{{ url_for('static', filename='admin.js') }}"></script>
{% raw %}{% endblock %}{% endraw %}
